{"version":3,"sources":["components/Header.jsx","components/SearchBar.jsx","components/Results.jsx","components/NominationsList.jsx","components/UserNominations.jsx","components/Modal.jsx","App.jsx","index.jsx"],"names":["Header","SearchBar","setTerm","term","className","htmlFor","type","placeholder","id","onChange","e","target","value","Results","setuserNominations","userNominations","setIsConfirmed","nominationsList","useState","results","setResults","useEffect","getMovies","a","axios","get","process","params","s","r","page","response","resultsArr","data","Search","forEach","movie","movieData","title","Title","year","Year","imdbID","push","console","log","delay","setTimeout","clearInterval","isUserNominated","movieId","find","isNominated","movies","map","key","disabled","length","onClick","nominateMovie","NominationsList","nominations","displayNominations","UserNominations","userNominationsCopy","index","findIndex","splice","removeMovie","localStorage","getItem","parsedNominations","JSON","parse","setItem","stringify","Modal","App","setNominationsList","isConfirmed","to","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.364abadc.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../styles/header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <h1>The Shoppies</h1>\r\n      <p>Nominate your favourite movies!</p>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport '../styles/searchbar.css';\r\n\r\nconst SearchBar = ({ setTerm, term }) => {\r\n  return (\r\n    <form className='searchForm'>\r\n      <label className='visuallyHidden' htmlFor='search'>Search for a movie</label>\r\n      <input \r\n        type='text' \r\n        placeholder='Search for a movie' \r\n        id='search' \r\n        onChange={ (e) => setTerm(e.target.value) }\r\n        value={term}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;","import React, { useState, useEffect } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport axios from 'axios';\r\nimport '../styles/results.css';\r\n\r\nconst Results = ({ setuserNominations, userNominations, setIsConfirmed, nominationsList }) => {\r\n  const [term, setTerm] = useState('');\r\n  const [results, setResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    \r\n    const getMovies = async () => {\r\n      try {\r\n        const response = await axios.get(`https://www.omdbapi.com/?apikey=${process.env.REACT_APP_OMDB_KEY}`, {\r\n          params: {\r\n            s: term,\r\n            type: 'movie',\r\n            r: 'json',\r\n            page: 1\r\n          }\r\n        });\r\n        \r\n        const resultsArr = [];\r\n\r\n        if (response.data.Search) { \r\n          response.data.Search.forEach( movie => {\r\n            const movieData = {\r\n              title: movie.Title,\r\n              year: movie.Year,\r\n              id: movie.imdbID\r\n            }\r\n            resultsArr.push(movieData);\r\n          });\r\n        }\r\n        \r\n        setResults(resultsArr);\r\n            \r\n      } catch (error) {\r\n        console.log(error);\r\n        \r\n      };\r\n    }; \r\n\r\n    if (term) {\r\n      const delay = setTimeout(() => {\r\n        getMovies();\r\n      }, 200);\r\n\r\n      return () => {\r\n        clearInterval(delay);\r\n      }\r\n    }\r\n              \r\n  }, [term]);\r\n  \r\n  const nominateMovie = (movie) => {\r\n    setIsConfirmed(true ? false : null);\r\n    setuserNominations(userNominations => [...userNominations, movie]);\r\n  }\r\n\r\n  const isUserNominated = (movieId) => {\r\n    if (userNominations) {\r\n      return userNominations.find( movie => movie.id === movieId );\r\n    }\r\n  }\r\n\r\n  const isNominated = (movieId) => {\r\n    if (nominationsList) {\r\n      const nominated =  nominationsList.find( movie => movie.id === movieId );\r\n      if (nominated) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  const movies = results.map( movie => {\r\n    return (\r\n      <li key={movie.id}>\r\n        <h3>{movie.title}</h3>\r\n        <p>{movie.year}</p>\r\n        <button \r\n          disabled={\r\n            userNominations.length === 5 || isUserNominated(movie.id) || isNominated(movie.id)\r\n            ? true \r\n            : false\r\n          }\r\n          type='button' \r\n          onClick={() => nominateMovie(movie)}\r\n        >\r\n          {\r\n            !isUserNominated(movie.id) && !isNominated(movie.id)\r\n            ? 'Nominate'\r\n            : 'Nominated'\r\n          }\r\n        </button>\r\n      </li>\r\n    )\r\n  });\r\n\r\n  return (\r\n    <div className='resultsContainer'>\r\n      <SearchBar setTerm={setTerm} term={term}/>\r\n      <h2>Results for \"{term}\"</h2>\r\n      <ul className='results'>\r\n        {movies}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;","import React from 'react';\r\nimport '../styles/usernominations.css';\r\n\r\nconst NominationsList = ({ nominationsList }) => {\r\n\r\n  const displayNominations = () => {\r\n    if (nominationsList) {\r\n      const nominationsListCopy = [...nominationsList];\r\n\r\n      return nominationsListCopy.map( movie => {\r\n        return (\r\n          <li key={movie.id}>\r\n            <h3>{movie.title}</h3>\r\n            <p className='nomsListYear'>{movie.year}</p>\r\n          </li>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  const nominations = displayNominations();\r\n\r\n  return (\r\n    <section className='wrapper'>\r\n      <h2>Nominated Movies</h2>\r\n      <ul className='results userNoms'>\r\n        {nominations}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default NominationsList;","import React from 'react';\r\nimport '../styles/usernominations.css';\r\n\r\nconst UserNominations = ({ userNominations, setuserNominations, setIsConfirmed }) => {\r\n  const userNominationsCopy = [...userNominations];\r\n\r\n  const removeMovie = (movieId) => {\r\n    const index = userNominationsCopy.findIndex( movie => movie.id === movieId);\r\n    userNominationsCopy.splice(index, 1);\r\n    setuserNominations(userNominationsCopy);\r\n  }\r\n\r\n  const nominations = userNominationsCopy.map( movie => {\r\n    return (\r\n      <li key={movie.id}>\r\n        <h3>{movie.title}</h3>\r\n        <p>{movie.year}</p>\r\n        <button \r\n          type='button'\r\n          onClick={() => removeMovie(movie.id)}\r\n        >\r\n            X\r\n        </button>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  const confirmNominations = () => {\r\n    const nominations = localStorage.getItem('nominations');\r\n\r\n    if (nominations) {\r\n      const parsedNominations = JSON.parse(nominations)\r\n      localStorage.setItem('nominations', JSON.stringify([...parsedNominations, ...userNominations]));\r\n    } else {\r\n      localStorage.setItem('nominations', JSON.stringify(userNominations));\r\n    };\r\n\r\n    setuserNominations([]);\r\n    setIsConfirmed(true);\r\n  };\r\n\r\n  return (\r\n    <div className='userNomsContainer'>\r\n      <h2>Your Nominations</h2>\r\n      {\r\n        !userNominations.length\r\n        ? <p>Start nominating five of your favourite movies!</p>\r\n        : <ul className='results userNoms'>{nominations}</ul>\r\n      }\r\n      <button \r\n        disabled={userNominations.length === 5 ? false : true}\r\n        type='button'\r\n        className='confirmBtn'\r\n        onClick={confirmNominations}\r\n      >\r\n        Confirm nominations\r\n      </button>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserNominations;","import React from 'react';\r\nimport '../styles/modal.css';\r\n\r\nconst Modal = () => {\r\n  return (\r\n    <div className='modal'>\r\n      <p>You have nominated five films. Please review and confirm your nominations.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal;","import React, { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport Results from './components/Results';\r\nimport NominationsList from './components/NominationsList';\r\nimport UserNominations from './components/UserNominations';\r\nimport Modal from './components/Modal';\r\nimport { \r\n  HashRouter as Router,\r\n  Route,\r\n  Link\r\n} from 'react-router-dom';\r\nimport './styles/nav.css';\r\n\r\nconst App = () => {\r\n  const [userNominations, setuserNominations] = useState([]);\r\n  const [nominationsList, setNominationsList] = useState([]);\r\n  const [isConfirmed, setIsConfirmed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const nominations = localStorage.getItem('nominations');\r\n    setNominationsList(JSON.parse(nominations));\r\n  }, [isConfirmed]);\r\n\r\n  return(\r\n    <div>\r\n      <Header />\r\n      <main>\r\n        <Router>\r\n          <nav className='mainNav wrapper'>\r\n            <Link to='/'>Home</Link>\r\n            <Link to='/nominations-list'>Nominated Movies</Link>\r\n          </nav>\r\n          <Route exact path='/'>\r\n            <section className='wrapper'>\r\n              <Results \r\n                setuserNominations={setuserNominations}\r\n                userNominations={userNominations}\r\n                setIsConfirmed={setIsConfirmed}\r\n                nominationsList={nominationsList}\r\n              />\r\n              <UserNominations \r\n                userNominations={userNominations}\r\n                setuserNominations={setuserNominations}\r\n                setIsConfirmed={setIsConfirmed}\r\n              />\r\n            </section>\r\n          </Route>\r\n          <Route exact path='/nominations-list'>\r\n            <NominationsList \r\n              nominationsList={nominationsList}\r\n            />\r\n          </Route>\r\n        </Router>\r\n        {\r\n          userNominations.length === 5\r\n          ? <Modal />\r\n          : null\r\n        }\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render( <App />, document.getElementById('root'));"],"sourceRoot":""}